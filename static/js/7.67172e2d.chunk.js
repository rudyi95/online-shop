(this["webpackJsonponline-shop"]=this["webpackJsonponline-shop"]||[]).push([[7],{138:function(e,t,o){"use strict";o.d(t,"b",(function(){return n})),o.d(t,"a",(function(){return a}));var n=function(e){return e.products.loading},a=function(e){return e.products.item}},141:function(e,t,o){"use strict";o.d(t,"a",(function(){return l})),o.d(t,"b",(function(){return d})),o.d(t,"c",(function(){return b}));var n=o(4),a=o(148),r=o.n(a).a.create({baseURL:"https://fakestoreapi.com"}),c=function(e){var t=e.method,o=e.url,n=e.data;switch(t){case"get":return r.get(o);case"post":return r.post(o,n);case"put":return r.put(o,n);case"delete":return r.delete(o);default:return null}},i={getAllProducts:function(){return c({method:"get",url:"/products"})},getProductById:function(e){return c({method:"get",url:"/products/".concat(e)})},getProductInCategory:function(e){return c({method:"get",url:"/products/category/".concat(e)})}},s=Object(n.a)({},i),u=o(7),l=function(){return function(e){e({type:u.e.LOADING,payload:!0}),s.getAllProducts().then((function(t){e({type:u.e.GET_ALL,payload:t.data})})).then((function(){e({type:u.e.LOADING,payload:!1})})).catch((function(e){return console.log(e)}))}},d=function(e){return function(t){t({type:u.e.LOADING,payload:!0}),s.getProductById(e).then((function(e){t({type:u.e.GET_BY_ID,payload:e.data})})).then((function(){t({type:u.e.LOADING,payload:!1})})).catch((function(e){return console.log(e)}))}},b=function(e){return function(t){t({type:u.e.LOADING,payload:!0}),s.getProductInCategory(e).then((function(e){t({type:u.e.GET_IN_CATEGORY,payload:e.data})})).then((function(){t({type:u.e.LOADING,payload:!1})})).catch((function(e){return console.log(e)}))}}},255:function(e,t,o){"use strict";o.r(t);var n=o(0),a=o(265),r=o(142),c=o(117),i=o(254),s=Object(i.a)({root:{display:"flex",justifyContent:"center",alignItems:"center","& button":{marginRight:10}},next:{marginLeft:10}}),u=o(16),l=o(48),d=o(123),b=o(6),j=Object(n.createContext)({category:"popular",term:"",sortValue:"lh",itemsPerPage:8,usePriceFilter:!1,showPopular:!1,minPrice:0,maxPrice:1e3,page:1,totalLength:0,setCategory:function(){},setTerm:function(){},setSortValue:function(){},setUsePriceFilter:function(){},setShowPopular:function(){},setMinPrice:function(){},setMaxPrice:function(){},setPage:function(){},items:function(){}}),f=function(e){var t=e.children,o=Object(n.useState)("popular"),a=Object(l.a)(o,2),r=a[0],c=a[1],i=Object(n.useState)(""),s=Object(l.a)(i,2),f=s[0],p=s[1],O=Object(n.useState)("lh"),m=Object(l.a)(O,2),h=m[0],g=m[1],v=Object(n.useState)(8),y=Object(l.a)(v,1)[0],x=Object(n.useState)(!1),C=Object(l.a)(x,2),w=C[0],P=C[1],N=Object(n.useState)(!1),M=Object(l.a)(N,2),S=M[0],A=M[1],I=Object(n.useState)(0),R=Object(l.a)(I,2),k=R[0],L=R[1],G=Object(n.useState)(1e3),V=Object(l.a)(G,2),T=V[0],D=V[1],H=Object(n.useState)(1),B=Object(l.a)(H,2),E=B[0],F=B[1],z=Object(n.useState)(0),_=Object(l.a)(z,2),U=_[0],J=_[1],W=Object(n.useCallback)((function(){var e=d.c.filter((function(e){return!S||e.category!==r&&"\u0423\u0441\u0456 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u0457"!==r?(!w||!(e.price<k||e.price>T))&&("popular"===r?e.popular:("\u0423\u0441\u0456 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u0457"===r||r===e.category)&&!(f&&!e.name.toLowerCase().includes(f.toLowerCase()))):e.popular}));return e=function(e,t){if("lh"!==t&&"hl"!==t)return e;var o=Object(u.a)(e);return"lh"===t?o.sort((function(e,t){return e.price-t.price})):o.sort((function(e,t){return t.price-e.price})),o}(e,h),J(e.length),e=e.slice((E-1)*y,E*y)}),[S,r,h,w,k,T,y,E,f]);return Object(b.jsx)(j.Provider,{value:{category:r,term:f,sortValue:h,itemsPerPage:y,usePriceFilter:w,showPopular:S,minPrice:k,maxPrice:T,page:E,totalLength:U,setTerm:p,setCategory:c,setSortValue:g,setUsePriceFilter:P,setShowPopular:A,setMinPrice:L,setMaxPrice:D,setPage:F,items:W},children:t})},p=function(){var e=s(),t=Object(n.useContext)(j),o=t.page,i=t.setPage,u=t.itemsPerPage,l=t.totalLength,d=Math.ceil(l/u);return l?Object(b.jsxs)("div",{className:e.root,children:[Object(b.jsx)(r.a,{color:"primary",disabled:1===o,onClick:function(){return i(1)},type:c.a.firstPage,title:""}),Object(b.jsx)(r.a,{color:"primary",disabled:1===o,onClick:function(){return i(o-1)},type:c.a.chevronLeft,title:""}),Object(b.jsxs)(a.a,{variant:"body1",children:["\u0421\u0442\u043e\u0440\u0456\u043d\u043a\u0430 ",o," \u0437 ",d]}),Object(b.jsx)(r.a,{className:e.next,color:"primary",disabled:o>=d,onClick:function(){return i(o+1)},type:c.a.chevronRight,title:""}),Object(b.jsx)(r.a,{color:"primary",disabled:o>=d,onClick:function(){return i(d)},type:c.a.lastPage,title:""})]}):null},O=o(5),m=Object(i.a)({root:{},header:{display:"flex",alignItems:"center",justifyContent:"space-around",margin:"10px 0"},info:{width:"44%",fontSize:24},results:{fontSize:12,color:"gray",marginTop:5},actions:{width:"44%",display:"flex",justifyContent:"flex-end"},priceBtn:{marginRight:20}}),h=Object(O.i)((function(e){var t=m();return Object(b.jsx)("div",{className:t.root,children:Object(b.jsx)("div",{className:t.header,children:Object(b.jsx)("div",{className:t.actions})})})})),g=o(51),v=o(141),y=o(4),x=o(1),C=o(3),w=(o(15),o(46)),P=o(105),N=o(28),M=o(47),S=o(268),A=o(91),I=o(106);function R(e){return Object(A.a)("MuiCard",e)}Object(I.a)("MuiCard",["root"]);var k=["className","raised"],L=Object(N.a)(S.a,{name:"MuiCard",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(){return{overflow:"hidden"}})),G=n.forwardRef((function(e,t){var o=Object(M.a)({props:e,name:"MuiCard"}),n=o.className,a=o.raised,r=void 0!==a&&a,c=Object(C.a)(o,k),i=Object(x.a)({},o,{raised:r}),s=function(e){var t=e.classes;return Object(P.a)({root:["root"]},R,t)}(i);return Object(b.jsx)(L,Object(x.a)({className:Object(w.a)(s.root,n),elevation:r?8:void 0,ref:t,ownerState:i},c))})),V=o(9);function T(e){return Object(A.a)("MuiCardActionArea",e)}var D=Object(I.a)("MuiCardActionArea",["root","focusVisible","focusHighlight"]),H=o(258),B=["children","className","focusVisibleClassName"],E=Object(N.a)(H.a,{name:"MuiCardActionArea",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){var t,o=e.theme;return t={display:"block",textAlign:"inherit",width:"100%"},Object(V.a)(t,"&:hover .".concat(D.focusHighlight),{opacity:o.palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}}),Object(V.a)(t,"&.".concat(D.focusVisible," .").concat(D.focusHighlight),{opacity:o.palette.action.focusOpacity}),t})),F=Object(N.a)("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:function(e,t){return t.focusHighlight}})((function(e){var t=e.theme;return{overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})}})),z=n.forwardRef((function(e,t){var o=Object(M.a)({props:e,name:"MuiCardActionArea"}),n=o.children,a=o.className,r=o.focusVisibleClassName,c=Object(C.a)(o,B),i=o,s=function(e){var t=e.classes;return Object(P.a)({root:["root"],focusHighlight:["focusHighlight"]},T,t)}(i);return Object(b.jsxs)(E,Object(x.a)({className:Object(w.a)(s.root,a),focusVisibleClassName:Object(w.a)(r,s.focusVisible),ref:t,ownerState:i},c,{children:[n,Object(b.jsx)(F,{className:s.focusHighlight,ownerState:i})]}))}));function _(e){return Object(A.a)("MuiCardContent",e)}Object(I.a)("MuiCardContent",["root"]);var U=["className","component"],J=Object(N.a)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(){return{padding:16,"&:last-child":{paddingBottom:24}}})),W=n.forwardRef((function(e,t){var o=Object(M.a)({props:e,name:"MuiCardContent"}),n=o.className,a=o.component,r=void 0===a?"div":a,c=Object(C.a)(o,U),i=Object(x.a)({},o,{component:r}),s=function(e){var t=e.classes;return Object(P.a)({root:["root"]},_,t)}(i);return Object(b.jsx)(J,Object(x.a)({as:r,className:Object(w.a)(s.root,n),ownerState:i,ref:t},c))}));function Y(e){return Object(A.a)("MuiCardMedia",e)}Object(I.a)("MuiCardMedia",["root","media","img"]);var q=["children","className","component","image","src","style"],K=Object(N.a)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:function(e,t){var o=e.ownerState,n=o.isMediaComponent,a=o.isImageComponent;return[t.root,n&&t.media,a&&t.img]}})((function(e){var t=e.ownerState;return Object(x.a)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})})),Q=["video","audio","picture","iframe","img"],X=["picture","img"],Z=n.forwardRef((function(e,t){var o=Object(M.a)({props:e,name:"MuiCardMedia"}),n=o.children,a=o.className,r=o.component,c=void 0===r?"div":r,i=o.image,s=o.src,u=o.style,l=Object(C.a)(o,q),d=-1!==Q.indexOf(c),j=!d&&i?Object(x.a)({backgroundImage:'url("'.concat(i,'")')},u):u,f=Object(x.a)({},o,{component:c,isMediaComponent:d,isImageComponent:-1!==X.indexOf(c)}),p=function(e){var t=e.classes,o={root:["root",e.isMediaComponent&&"media",e.isImageComponent&&"img"]};return Object(P.a)(o,Y,t)}(f);return Object(b.jsx)(K,Object(x.a)({className:Object(w.a)(p.root,a),as:c,role:!d&&i?"image":void 0,ref:t,style:j,ownerState:f,src:d?i||s:void 0},l,{children:n}))})),$=o(144),ee=o(139),te=Object(i.a)({root:{width:265,height:341,margin:"10px auto 10px auto","& .MuiCardMedia-root":{width:"100%",height:"100%",backgroundSize:"contain"}},actionArea:{height:"100%"},content:{height:"100%",display:"flex",flexDirection:"column",textAlign:"center",alignItems:"center"},itemImg:{width:140,height:140},infoActions:{position:"absolute",top:-10,width:"100%",display:"flex",justifyContent:"space-between"},promotion:{margin:8,color:"#1a9349",fontWeight:"bold"},actions:{height:45,justifyContent:"space-around",padding:10},details:{marginRight:60,marginLeft:8}}),oe=function(e){var t=e.item,o=te(),n=Object(O.g)(),a=Object(g.b)();return Object(b.jsx)(G,{className:o.root,children:Object(b.jsx)(z,{className:o.actionArea,onClick:function(){return n.push(d.b.productPage+t.id)},children:Object(b.jsxs)(W,{className:o.content,children:[Object(b.jsx)(Z,{className:o.itemImg,image:t.image}),Object(b.jsx)("div",{children:Object(b.jsx)("h3",{children:t.title})}),Object(b.jsxs)("div",{className:o.infoActions,children:[Object(b.jsxs)("div",{style:{display:"flex",alignItems:"center",fontSize:"large",fontWeight:"bold"},children:[t.price," \u0433\u0440\u043d"]}),Object(b.jsx)($.a,{text:"\u0423 \u043a\u043e\u0448\u0438\u043a",onClick:function(e){e.stopPropagation(),a(Object(ee.a)(Object(y.a)(Object(y.a)({},t),{},{quantity:1})))}})]})]})})})},ne=Object(i.a)({root:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(265px, 1fr))",width:"100%"}}),ae=o(138),re=o(273),ce=function(){var e=ne(),t=Object(g.b)(),o=Object(O.h)().category,a=Object(g.c)((function(e){return e.products.data})),r=Object(g.c)(ae.b);return Object(n.useEffect)((function(){t(o&&"all"!==o?Object(v.c)(o):Object(v.a)())}),[t,o]),r||!a?Object(b.jsx)(re.a,{style:{margin:"auto"}}):Object(b.jsx)("div",{className:e.root,children:a.map((function(e){return Object(b.jsx)(oe,{item:e},e.id)}))})},ie=Object(i.a)({root:{height:"100%",overflow:"scroll","& .MuiTypography-displayBlock":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}});t.default=function(){var e=ie();return Object(b.jsx)("div",{className:e.root,children:Object(b.jsxs)(f,{children:[Object(b.jsx)(h,{}),Object(b.jsx)(ce,{}),Object(b.jsx)(p,{})]})})}}}]);
//# sourceMappingURL=7.67172e2d.chunk.js.map