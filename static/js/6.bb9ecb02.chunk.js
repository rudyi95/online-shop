(this["webpackJsonponline-shop"]=this["webpackJsonponline-shop"]||[]).push([[6],{359:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return j}));var c=n(13),r=n(360),a=n.n(r).a.create({baseURL:"https://fakestoreapi.com"}),i=function(t){var e=t.method,n=t.url,c=t.data;switch(e){case"get":return a.get(n);case"post":return a.post(n,c);case"put":return a.put(n,c);case"delete":return a.delete(n);default:return null}},o={getAllProducts:function(){return i({method:"get",url:"/products"})},getProductById:function(t){return i({method:"get",url:"/products/".concat(t)})},getProductInCategory:function(t){return i({method:"get",url:"/products/category/".concat(t)})}},s=Object(c.a)({},o),u=n(26),l=function(){return function(t){s.getAllProducts().then((function(e){t({type:u.e.GET_ALL,payload:e.data})})).catch((function(t){return console.log(t)}))}},d=function(t){return function(e){s.getProductById(t).then((function(t){e({type:u.e.GET_BY_ID,payload:t.data})})).catch((function(t){return console.log(t)}))}},j=function(t){return function(e){s.getProductInCategory(t).then((function(t){e({type:u.e.GET_IN_CATEGORY,payload:t.data})}))}}},393:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n(115),a=n(55),i=n(18),o=n(307),s=Object(o.a)({root:{display:"flex",justifyContent:"center",alignItems:"center","& button":{marginRight:10}},next:{marginLeft:10}}),u=n(40),l=n(57),d=n(60),j=n(2),f=Object(c.createContext)({category:"popular",term:"",sortValue:"lh",itemsPerPage:8,usePriceFilter:!1,showPopular:!1,minPrice:0,maxPrice:1e3,page:1,totalLength:0,setCategory:function(){},setTerm:function(){},setSortValue:function(){},setUsePriceFilter:function(){},setShowPopular:function(){},setMinPrice:function(){},setMaxPrice:function(){},setPage:function(){},items:function(){}}),b=function(t){var e=t.children,n=Object(c.useState)("popular"),r=Object(l.a)(n,2),a=r[0],i=r[1],o=Object(c.useState)(""),s=Object(l.a)(o,2),b=s[0],p=s[1],h=Object(c.useState)("lh"),g=Object(l.a)(h,2),O=g[0],m=g[1],x=Object(c.useState)(8),y=Object(l.a)(x,2),P=y[0],v=(y[1],Object(c.useState)(!1)),C=Object(l.a)(v,2),w=C[0],S=C[1],N=Object(c.useState)(!1),k=Object(l.a)(N,2),I=k[0],L=k[1],A=Object(c.useState)(0),T=Object(l.a)(A,2),M=T[0],R=T[1],B=Object(c.useState)(1e3),E=Object(l.a)(B,2),_=E[0],z=E[1],F=Object(c.useState)(1),G=Object(l.a)(F,2),V=G[0],U=G[1],D=Object(c.useState)(0),J=Object(l.a)(D,2),W=J[0],Y=J[1],q=Object(c.useCallback)((function(){var t=d.d.filter((function(t){return!I||t.category!==a&&"\u0423\u0441\u0456 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u0457"!==a?(!w||!(t.price<M||t.price>_))&&("popular"===a?t.popular:("\u0423\u0441\u0456 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u0457"===a||a===t.category)&&!(b&&!t.name.toLowerCase().includes(b.toLowerCase()))):t.popular}));return t=function(t,e){if("lh"!==e&&"hl"!==e)return t;var n=Object(u.a)(t);return"lh"===e?n.sort((function(t,e){return t.price-e.price})):n.sort((function(t,e){return e.price-t.price})),n}(t,O),Y(t.length),t=t.slice((V-1)*P,V*P)}),[I,a,O,w,M,_,P,V,b]);return Object(j.jsx)(f.Provider,{value:{category:a,term:b,sortValue:O,itemsPerPage:P,usePriceFilter:w,showPopular:I,minPrice:M,maxPrice:_,page:V,totalLength:W,setTerm:p,setCategory:i,setSortValue:m,setUsePriceFilter:S,setShowPopular:L,setMinPrice:R,setMaxPrice:z,setPage:U,items:q},children:e})},p=function(){var t=s(),e=Object(c.useContext)(f),n=e.page,o=e.setPage,u=e.itemsPerPage,l=e.totalLength,d=Math.ceil(l/u);return l?Object(j.jsxs)("div",{className:t.root,children:[Object(j.jsx)(a.a,{color:"primary",disabled:1===n,onClick:function(){return o(1)},type:i.a.firstPage,title:""}),Object(j.jsx)(a.a,{color:"primary",disabled:1===n,onClick:function(){return o(n-1)},type:i.a.chevronLeft,title:""}),Object(j.jsxs)(r.a,{variant:"body1",children:["\u0421\u0442\u043e\u0440\u0456\u043d\u043a\u0430 ",n," \u0437 ",d]}),Object(j.jsx)(a.a,{className:t.next,color:"primary",disabled:n>=d,onClick:function(){return o(n+1)},type:i.a.chevronRight,title:""}),Object(j.jsx)(a.a,{color:"primary",disabled:n>=d,onClick:function(){return o(d)},type:i.a.lastPage,title:""})]}):null},h=n(14),g=Object(o.a)({root:{},header:{display:"flex",alignItems:"center",justifyContent:"space-around",margin:"10px 0"},info:{width:"44%",fontSize:24},results:{fontSize:12,color:"gray",marginTop:5},actions:{width:"44%",display:"flex",justifyContent:"flex-end"},priceBtn:{marginRight:20}}),O=Object(h.h)((function(t){var e=g();return Object(j.jsx)("div",{className:e.root,children:Object(j.jsx)("div",{className:e.header,children:Object(j.jsx)("div",{className:e.actions})})})})),m=n(25),x=n(359),y=n(13),P=n(394),v=n(392),C=n(396),w=n(397),S=n(58),N=n(33),k=n(344),I=Object(k.a)({root:{width:265,height:341,margin:"auto","& .MuiCardMedia-root":{width:"100%",height:"100%",backgroundSize:"contain"}},actionArea:{height:"100%"},content:{height:"100%",display:"flex",flexDirection:"column",textAlign:"center",alignItems:"center"},itemImg:{width:140,height:140},infoActions:{position:"absolute",top:-10,width:"100%",display:"flex",justifyContent:"space-between"},promotion:{margin:8,color:"#1a9349",fontWeight:"bold"},actions:{height:45,justifyContent:"space-around",padding:10},details:{marginRight:60,marginLeft:8}}),L=function(t){var e=t.item,n=I(),c=Object(h.f)(),r=Object(m.b)();return Object(j.jsx)(P.a,{className:n.root,children:Object(j.jsx)(v.a,{className:n.actionArea,onClick:function(){return c.push(d.c.productPage+e.id)},children:Object(j.jsxs)(C.a,{className:n.content,children:[Object(j.jsx)(w.a,{className:n.itemImg,image:e.image}),Object(j.jsx)("div",{children:Object(j.jsx)("h3",{children:e.title})}),Object(j.jsxs)("div",{className:n.infoActions,children:[Object(j.jsxs)("div",{style:{display:"flex",alignItems:"center",fontSize:"large",fontWeight:"bold"},children:[e.price," \u0433\u0440\u043d"]}),Object(j.jsx)(S.a,{text:"\u0423 \u043a\u043e\u0448\u0438\u043a",onClick:function(t){t.stopPropagation(),r(Object(N.a)(Object(y.a)(Object(y.a)({},e),{},{quantity:1})))}})]})]})})})},A=Object(k.a)({root:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:"1%"}}),T=function(){var t=A(),e=Object(m.b)(),n=Object(h.g)().category,r=Object(m.c)((function(t){return t.products.data}));return Object(c.useEffect)((function(){e(n&&"all"!==n?Object(x.c)(n):Object(x.a)())}),[e,n]),Object(j.jsx)("div",{className:t.root,children:r.map((function(t){return Object(j.jsx)(L,{item:t},t.id)}))})},M=Object(o.a)({root:{height:"100%",overflow:"scroll","& .MuiTypography-displayBlock":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}});e.default=function(){var t=M();return Object(j.jsx)("div",{className:t.root,children:Object(j.jsxs)(b,{children:[Object(j.jsx)(O,{}),Object(j.jsx)(T,{}),Object(j.jsx)(p,{})]})})}}}]);
//# sourceMappingURL=6.bb9ecb02.chunk.js.map